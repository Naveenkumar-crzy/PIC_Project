/*
 * File:   main.c
 * Author: ELCOT
 *
 * Created on 8 February, 2025, 10:44 PM
 */


#include <xc.h>

#define _XTAL_FREQ 20000000 
  unsigned char segment []={0x3F,0x06,0x5B,0x4F,0x66,0x6D,0x7D,0x07,0x7F,0x6F};
  

  
  void count (void){
       for (unsigned int i=0;i<11;i++)
    {
        PORTB = segment [i];
        __delay_ms(1000);
    }
       PORTC= 0x80;
         __delay_ms(2000);
         PORTC= 0x00;
  }
  
   void __interrupt() PB_EXT(){
    if (INTCONbits.INTF ==1)
    {
    count (); 
      INTCONbits.INTF= 0;
    }
   
}
  
  
void main(void) {
    INTCONbits.GIE = 1;
    INTCONbits.PEIE = 1;
    INTCONbits.INTE =1;
    OPTION_REGbits.INTEDG =1;
    TRISB = 0x01;
     TRISC = 0x01;
    // PORTB = 0x00;
     while (1){
     if (PORTCbits.RC0 == 1)
     {
        count (); 
     }
     }
    
    return ;
}
